(this["webpackJsonpmsg-board"]=this["webpackJsonpmsg-board"]||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n.n(s),c=n(10),r=n.n(c),o=(n(16),n(2)),i=n.n(o),u=n(3),h=n(4),j=n(5),p=n(8),b=n(7),l=(n(18),n(0));function d(t){return Object(l.jsxs)("div",{classname:"post",children:[Object(l.jsx)("p",{className:"title",children:t.post._id}),Object(l.jsx)("p",{className:"content",children:t.post.content})]})}var f=n(11),O=n(6),m=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(h.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={content:""},t.handleChange=function(e){t.setState(Object(O.a)({},e.target.name,e.target.value))},t.handleSubmit=Object(u.a)(i.a.mark((function e(){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.a)({},t.state),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=4,fetch("/api",s).then((function(t){return t.json()})).then((function(e){t.props.getPosts(),t.setState({content:""})}));case 4:case"end":return e.stop()}}),e)}))),t}return Object(j.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("textarea",{name:"content",onChange:this.handleChange,value:this.state.content}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:this.handleSubmit,children:"Submit!"})]})}}]),n}(s.Component),g=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(h.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={posts:[]},t.getPosts=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api").then((function(t){return t.json()})).then((function(e){return t.setState({posts:e})}));case 2:case"end":return e.stop()}}),e)}))),t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"render",value:function(){var t=this;return Object(l.jsxs)("main",{className:"App",children:[this.state.posts.length?this.state.posts.map((function(e){return Object(l.jsx)(d,{post:e,getPosts:t.getPosts})})):Object(l.jsx)("h1",{children:"Loading..."}),Object(l.jsx)(m,{getPosts:this.getPosts})]})}}]),n}(s.Component);r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.59f09f22.chunk.js.map