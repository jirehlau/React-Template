{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/node_modules/@babel/runtime/helpers/esm/createSuper\";// components/Form/Form.jsx\nimport{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(){var _this;_classCallCheck(this,Form);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={content:\"\"};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var body,options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:body=_objectSpread({},_this.state);options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};// Now for the fetch call\n_context.next=4;return fetch(\"/api\",options).then(function(res){return res.json();}).then(function(data){// Call our getPosts function to get fresh data\n_this.props.getPosts();// clear out this.state.content\n_this.setState({content:\"\"});});case 4:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Form,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",onChange:this.handleChange,value:this.state.content}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,children:\"Submit!\"})]});}}]);return Form;}(Component);export{Form as default};","map":{"version":3,"sources":["/Users/jirehlau/Documents/GA/12 Weeks/Week 10/Day 5/msg-board/src/components/Form/Form.jsx"],"names":["Component","Form","state","content","handleChange","e","setState","target","name","value","handleSubmit","body","options","method","headers","JSON","stringify","fetch","then","res","json","data","props","getPosts"],"mappings":"8mCAAA;AACA,OAASA,SAAT,KAA0B,OAA1B,C,2FAEqBC,CAAAA,I,mTACnBC,K,CAAQ,CACNC,OAAO,CAAE,EADH,C,OAIRC,Y,CAAe,SAACC,CAAD,CAAO,CAClB,MAAKC,QAAL,oBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,GACH,C,OAEDC,Y,sEAAe,oJACTC,IADS,kBACE,MAAKT,KADP,EAETU,OAFS,CAEC,CACZC,MAAM,CAAE,MADI,CAEZC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFG,CAKZH,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CALM,CAFD,CASb;AATa,sBAUPM,CAAAA,KAAK,CAAC,MAAD,CAASL,OAAT,CAAL,CACHM,IADG,CACE,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADL,EAEHF,IAFG,CAEE,SAAAG,IAAI,CAAI,CACZ;AACA,MAAKC,KAAL,CAAWC,QAAX,GACA;AACA,MAAKjB,QAAL,CAAc,CAAEH,OAAO,CAAE,EAAX,CAAd,EACD,CAPG,CAVO,uD,wDAoBf,iBAAS,CACP,mBACE,oCACE,iBACE,IAAI,CAAC,SADP,CAEE,QAAQ,CAAE,KAAKC,YAFjB,CAGE,KAAK,CAAE,KAAKF,KAAL,CAAWC,OAHpB,EADF,cAKE,aALF,cAME,eAAQ,OAAO,CAAE,KAAKO,YAAtB,qBANF,GADF,CAUD,C,kBAxC+BV,S,SAAbC,I","sourcesContent":["// components/Form/Form.jsx\nimport { Component } from 'react';\n\nexport default class Form extends Component {\n  state = {\n    content: \"\"\n  };\n\n  handleChange = (e) => {\n      this.setState({ [e.target.name]: e.target.value })\n  }\n\n  handleSubmit = async () => {\n    let body = {...this.state}\n    let options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    };\n    // Now for the fetch call\n    await fetch(\"/api\", options)\n      .then(res => res.json())\n      .then(data => {\n        // Call our getPosts function to get fresh data\n        this.props.getPosts();\n        // clear out this.state.content\n        this.setState({ content: \"\" })\n      })\n  }\n\n  render() {\n    return(\n      <div>\n        <textarea \n          name=\"content\"\n          onChange={this.handleChange}\n          value={this.state.content}></textarea>\n        <br/>\n        <button onClick={this.handleSubmit}>Submit!</button>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}